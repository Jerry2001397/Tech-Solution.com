<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Bridge LIberia-TBL</title>
    <link rel="stylesheet" href="./Style.CSS">
    <style>
        /* News ticker styles */
        #newsTicker {
            overflow: hidden;
            background: #111;
            color: #fff;
            padding: 8px 0;
            font-size: 16px;
        }
        .ticker-inner {
            display: inline-block;
            white-space: nowrap;
            will-change: transform;
            animation: scroll 18s linear infinite;
        }
        .ticker-item {
            color: #fff;
            text-decoration: none;
            margin-right: 12px;
            padding: 0 6px;
        }
        .ticker-item:hover { text-decoration: underline; }
        .ticker-sep { color: #888; margin-right: 12px; }

        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="logo">Tech Bridge LIberia-TBL</h1>
            <button class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav id="navMenu">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="./index about.html">About</a></li>
                    <li><a href="./Index Service.html">Services</a></li>
                    <li><a href="./Our Staff.html">Our Staffs</a></li>
                    <li><a href="./News.html">News</a></li>
                    <li><a href="./Contact.html">Contact</a></li>
                    <li><a href="./Policy.html">Policy</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- News ticker (populated from news-data.js) -->
    <div id="newsTicker" aria-live="polite" role="region"></div>
    
    <main>
        <section class="hero">
            <div class="container">
                <h2>Welcome to Tech Bridge Liberia</h2>
                <p>Your trusted partner for innovative technology solutions and professional services.</p>
                <div>
                    <a href="./index about.html" class="cta-btn">Learn More</a>
                    <a href="./JoinUs.html" class="cta-btn secondary">Join Us</a>
                </div>
            </div>
        </section>
        <section class="features">
            <div class="features-wrapper">
                <div class="feature">
                    <div class="feature-icon">ðŸ’»</div>
                    <h3>Computer Basics Training</h3>
                    <p>We offer foundational training in computer literacy, ensuring learners gain essential skills in Computer science.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ“¹</div>
                    <h3>CCTV Cameras Installation</h3>
                    <p>We provide professional CCTV surveillance system installation for homes, businesses, and institutions.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ”§</div>
                    <h3>Hardware and Software Troubleshooting</h3>
                    <p>Our expert technicians diagnose and resolve issues in computer hardware and software, providing reliable support.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ“Š</div>
                    <h3>Access Database Development</h3>
                    <p>We develop tailored Microsoft Access databases for schools, clinics, and organizations to manage data efficiently.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ“ˆ</div>
                    <h3>Data Collection and Analysis</h3>
                    <p>We offer data collection and analysis services to help organizations make informed decisions based on accurate insights.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ðŸ“±</div>
                    <h3>Social Media Management and marketing </h3
                    <p>We provide comprehensive social media management and marketing services to enhance your online presence and engagement.</p>
            </div>
        </section>

        <section class="booking" id="booking">
            <div class="container">
                <div class="booking-content">
                    <h2>Book Our Services</h2>
                    <p>Schedule a consultation or book one of our professional services today</p>
                    <form class="booking-form" id="bookingForm">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" name="name" placeholder="Enter your full name" autocomplete="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" placeholder="Enter your email address" autocomplete="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" autocomplete="tel" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="service">Service Type</label>
                            <select id="service" name="service" autocomplete="off" required>
                                <option value="">-- Select a Service --</option>
                                <option value="computer-training">Computer Basics Training</option>
                                <option value="cctv-installation">CCTV Cameras Installation</option>
                                <option value="hardware-software">Hardware and Software Troubleshooting</option>
                                <option value="access-database">Access Database Development</option>
                                <option value="data-analysis">Data Collection and Analysis</option>
                                <option value="social-media">Social Media Management & Marketing</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="submit-btn">Book Service</button>
                    </form>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2026 Tech Bridge LIberia-TBL<br>
                 All rights reserved.</p>
        </div>
    </footer>

    <script>
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');
        
        menuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // Close menu when a link is clicked
        const navLinks = navMenu.querySelectorAll('a');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                navMenu.classList.remove('active');
                menuToggle.classList.remove('active');
            });
        });

        const bookingForm = document.getElementById('bookingForm');
        if (bookingForm) {
            bookingForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                const SUPABASE_URL = 'https://tvjnltngvvzjxlmluyya.supabase.co';
                const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR2am5sdG5ndnZ6anhsbWx1eXlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzOTM3MTIsImV4cCI6MjA4NTk2OTcxMn0.bJyKQlQi2n9KDfd2q1OBb0gT2mYZHGLxWnbVIcu_Sxs';
                const EMAIL_WEBHOOK_URL = 'https://tvjnltngvvzjxlmluyya.supabase.co/functions/v1/send-booking-email';

                const payload = {
                    full_name: document.getElementById('name').value.trim(),
                    email: document.getElementById('email').value.trim(),
                    phone: document.getElementById('phone').value.trim(),
                    service_type: document.getElementById('service').value
                };

                try {
                    const response = await fetch(SUPABASE_URL + '/rest/v1/booking_requests', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'apikey': SUPABASE_ANON_KEY,
                            'Authorization': 'Bearer ' + SUPABASE_ANON_KEY,
                            'Prefer': 'return=representation'
                        },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorText = await response.text();
                        console.error('Supabase error', response.status, errorText);
                        throw new Error('Submission failed: ' + response.status + ' ' + errorText);
                    }

                    if (EMAIL_WEBHOOK_URL) {
                        try {
                            const emailResponse = await fetch(EMAIL_WEBHOOK_URL, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'apikey': SUPABASE_ANON_KEY,
                                    'Authorization': 'Bearer ' + SUPABASE_ANON_KEY
                                },
                                body: JSON.stringify(payload)
                            });
                            if (!emailResponse.ok) {
                                const emailError = await emailResponse.text();
                                console.error('Email webhook error', emailResponse.status, emailError);
                            }
                        } catch (emailError) {
                            console.error('Email webhook failed', emailError);
                        }
                    }

                    alert('Thanks! Your booking request has been submitted.');
                    bookingForm.reset();
                } catch (error) {
                    console.error(error);
                    alert('Sorry, we could not submit your request. ' + (error && error.message ? error.message : 'Please try again.'));
                }
            });
        }
    </script>
    <script src="./news-data.js"></script>
    <script src="./news.js"></script>
    <script src="./active-nav.js"></script>
</body>
</html>
